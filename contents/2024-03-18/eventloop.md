---
date: '2024-03-18'
title: 'Event loop'
categories: ['Web', 'CS', 'Frontend']
summary: 'JavaScript는 객체 기반의 스크립트 프로그래밍 언어로, 주로 웹 페이지의 동적 기능을 구현하는 데 사용됩니다. '
thumbnail: '../../static/js.png'
---

이벤트 루프는 단일 스레드 환경에서 이벤트 처리 및 비동기 작업을 관리하는 매커니즘 입니다. 주로 자바스크립트나 파이썬같은 비동기 프로그래밍 언어에서 사용됩니다.

- **이벤트 큐** : 이벤트 루프가 관리하는 큐이며 이벤트 루프 처리 대기하는 이벤트들이 있습니다. 사용자의 입력이나 타이머, 비동기 작업등이 포함됩니다.
- **콜 스택** : 실행 중인 함수의 호출 정보를 저장합니다. 호출되면 저장되고 종료되면 삭제되며 이벤트 큐에서 꺼내와서 작업을 하게 됩니다.
- **메세지 큐** : 이벤트, 비동기 작업 결과를 담습니다.
- **이벤트 루프** : 이벤트 큐에서 콜 스택으로 이벤트를 꺼내와서 실행하는 역활을 하며 여기서 비동기 작업의 완료 여부를 확인하고 콜백 함수를 실행하여 이벤트를 처리합니다.

**동작순서**

1. 초기화(Initialization): 이벤트 루프는 스크립트가 실행될 때 초기화됩니다. 이 단계에서는 호출 스택(Call Stack)과 여러 개의 큐(Queue)가 생성됩니다.

2. 이벤트 처리(Event Handling): 사용자 입력, 네트워크 요청, 타이머 등 다양한 이벤트들이 발생합니다. 이벤트 루프는 이러한 이벤트들을 감지하고 적절한 처리를 위해 큐에 추가합니다.

3. 호출 스택 체크(Call Stack Check): 이벤트 루프는 주기적으로 호출 스택이 비어있는지 확인합니다. 호출 스택이 비어있으면 이벤트 루프는 큐에서 이벤트를 꺼내와 호출 스택에 추가합니다.

4. 이벤트 처리(Event Execution): 호출 스택에 추가된 이벤트가 실행됩니다. 이 단계에서는 비동기 작업에 의해 생성된 마이크로태스크(Microtask)와 태스크(Task)가 처리됩니다.

5. 반복(Repeat): 이벤트 루프는 이러한 단계를 반복하여 계속해서 이벤트를 처리합니다. 이벤트 처리가 끝나면 다음 이벤트를 기다립니다.
